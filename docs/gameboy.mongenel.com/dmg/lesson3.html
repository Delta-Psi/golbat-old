<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

<head>
<title>
DuoDreamer's Dreamscape
</title>
<meta name="title" content="DuoDreamer's Dreamscape">
<meta name="keywords" content="poetry,poems,midi,mod,mods,midis,gameboy,gb,pokemon,emulate,emulation,emulators,console,computer,mame,raiden,nesticle,rage,callus,nocash,zsnes,snes9x,arcade,classic,video games,roms">



<!-- -----------Start of CSS Definitions ------------------ -->
<link rel="stylesheet" type="text/css" href="../default.css">
<style type="text/css"><!--
--></style>
<!------------------------------- End of CSS Definitions ---------------------------->


</head>

<body>


<!-- Entire Document Starts Here -->
<div align="center">



<br>

<!---- Start of Whole Content Body. EG: all content tables will go inside this table --->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>




<!---- Main (right) column starts here ----------------------------------------------->
<td valign="top" width=620>

<!-- Start of Content Window #1 -->
<div>
<!-- Start of Table Header -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="bodybackground"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tablebody"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="bodybackground"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tablebody"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="tableshadow"></td>
</tr>
</table>
<!-- End of Table Header -->

<!-- Start of Table Body -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 class="tableborder">
<br>
</td>
<td width=8 class="tablebody">
<br>
</td>
<td width=600 class="tablebody" valign="top">

<!-- Window content goes here -->
<H2>ASMSchool  -  Lesson 3</H2>
In this lesson, you will learn a bit about some more arithmetic instructions and some CPU controlling instructions.<br>

<h3>General Purpose Arithmetic &amp; CPU Control</h3>
There are a few instructions that don't fall under any of the other categories, mostly for the reason that they accomplish certain special tasks on the system.<br><br>

<TT><B>DAA</B></TT><BR>
This is the Decimal Adjust Accumulator instruction. It converts the value in A into a packed BCD (binary coded decimal) number. This instruction is used about as often as you'll win the lottery, so I wont detail it.
<BR>Flags affected are:<BR>
<TT>Z: set according to result<BR>
C: set according to result<BR>
N: reset (0)<BR>
H: set according to result<BR></TT>
<BR><BR>

<TT><B>CPL</B></TT><BR>
CPL is ComPLement A. It basically takes A and applies a one's complement. Which, I believe is just inverting all of the bits. EG: $02 would end up as $FD.
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: set (1)<BR>
H: set (1)<BR></TT>
<BR><BR>

<TT><B>SWAP r or (HL)</B></TT><BR>
This instruction swaps the high and low nybble's of A. So $F0 becomes $0F, etc.
<BR>Flags affected are:<BR>
<TT>Z: set according to result<BR>
C: reset (0)<BR>
N: reset (0)<BR>
H: reset (0)<BR></TT>
<BR><BR>

<TT><B>CCF</B></TT><BR>
Complement Carry Flag - Simply inverts the carry flag in register F.
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: set according to result<BR>
N: reset (0)<BR>
H: reset (0)<BR></TT>
<BR><BR>

<TT><B>SCF</B></TT><BR>
Set Carry Flag - Simply sets the carry flag (CY=1).
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: set (1)<BR>
N: reset (0)<BR>
H: reset (0)<BR></TT>
<BR><BR>

<TT><B>NOP</B></TT><BR>
No Operation - CPU does nothing for 1 instruction cycle.
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: no effect<BR>
H: no effect<BR></TT>
<BR><BR>

<TT><B>HALT</B></TT><BR>
HALT's the CPU until an interrupt occurrs. During HALT, the CPU power consumption is reduced. It's generally pretty smart to place two NOP's after a HALT due to a hardware bug.
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: no effect<BR>
H: no effect<BR></TT>
<BR><BR>

<TT><B>STOP</B></TT><BR>
STOP's the CPU. The only way to start the CPU again is to turn off the GB and turn it back on, OR if using STOP on a GBC, it can be used to toggle the CPU speed (more in another lesson).
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: no effect<BR>
H: no effect<BR></TT>
<BR><BR>

<TT><B>DI</B></TT><BR>
Disable Interrupts. Turns off all hardware interrupts. Use this if you want to run a piece of code and have it run uninterupted (lol).
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: no effect<BR>
H: no effect<BR></TT>
<BR><BR>

<TT><B>EI</B></TT><BR>
Enable Interrupts. Enables hardware interrupts to occur. 
<BR>Flags affected are:<BR>
<TT>Z: no effect<BR>
C: no effect<BR>
N: no effect<BR>
H: no effect<BR></TT>
<BR><BR>

Wow, alot of handy tools those instructions are. Each has it's own use and you'll probably use most of them often. One of the big ones is DI, which most coders put at the very beginning of the game, so as to setup the gameboy hardware and load data without being interrupted. There are uses for the rest that you'll see later on. That's it for this lesson.<br><br>


<!-- Window content ends here -->


</td>

<td width=4 class="tablebody">
<br>
</td>
<td width=2 class="tableborder">
<br>
</td>
<td width=4 class="tableshadow">
<br>
</td>
</tr>
</table>
<!-- End of Table Body -->

<!-- Start of Table Footer -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 height=3 class="tableborder"></td>
<td width=2 height=3 class="tablebody"></td>
<td width=630 height=3 class="tablebody"></td>
<td width=2 height=3 class="tableborder"></td>
<td width=4 height=3 class="tableshadow"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=630 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="tableshadow"></td>
</tr>
<tr>
<td width=2 height=3 class="bodybackground"></td>
<td width=2 height=3 class="bodybackground"></td>
<td width=630 height=3 class="tableshadow"></td>
<td width=2 height=3 class="tableshadow"></td>
<td width=4 height=3 class="tableshadow"></td>
</tr>

</table>
<!-- End of Table Footer -->
</div>
<!-- End of Content Window #1 -->

<br>

<!-- Start of footnote window -->
<div>
<!-- Start of Table Header -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="bodybackground"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tablebody"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="bodybackground"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=612 height=2 class="tablebody"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="tableshadow"></td>
</tr>
</table>
<!-- End of Table Header -->

<!-- Start of Table Body -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 class="tableborder">
<br>
</td>
<td width=8 class="tablebody">
<br>
</td>
<td width=600 class="tablebody" valign="top">

<!-- Window content goes here -->

<!-- Stuff Goes here -->

<br>


</td>

<td width=4 class="tablebody">
<br>
</td>
<td width=2 class="tableborder">
<br>
</td>
<td width=4 class="tableshadow">
<br>
</td>
</tr>
</table>
<!-- End of Table Body -->

<!-- Start of Table Footer -->
<table border=0 cellpadding=0 cellspacing=0 width=620>
<tr>
<td width=2 height=3 class="tableborder"></td>
<td width=2 height=3 class="tablebody"></td>
<td width=630 height=3 class="tablebody"></td>
<td width=2 height=3 class="tableborder"></td>
<td width=4 height=3 class="tableshadow"></td>
</tr>
<tr>
<td width=2 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=630 height=2 class="tableborder"></td>
<td width=2 height=2 class="tableborder"></td>
<td width=4 height=2 class="tableshadow"></td>
</tr>
<tr>
<td width=2 height=3 class="bodybackground"></td>
<td width=2 height=3 class="bodybackground"></td>
<td width=630 height=3 class="tableshadow"></td>
<td width=2 height=3 class="tableshadow"></td>
<td width=4 height=3 class="tableshadow"></td>
</tr>

</table>
<!-- End of Table Footer -->
</div>
<!-- End of Footnote window ->

</td>
<!---- Main (right) column ends here ------------------------------------------------->

</tr>
</table>

</div>
</body>
</html>
